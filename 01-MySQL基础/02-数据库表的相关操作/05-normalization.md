# 数据库设计范式

## 范式

范式是关系型数据库设计中用于规范化数据表结构的一系列标准或规则。这些规范旨在提高数据库的设计质量，减少数据冗余，确保数据的一致性和完整性。

范式的主要目标包括：

1. **消除数据冗余：** 范式设计有助于减少存储在数据库中的重复数据，从而降低数据冗余，减小数据库的存储需求。

2. **确保数据一致性：** 范式要求数据库中的数据是一致的，避免了在更新操作中可能出现的异常情况。

3. **提高查询性能：** 范式设计可以使查询操作更为简单和高效，因为数据被组织得更加清晰。

主要的范式包括：

- **第一范式（1NF）：** 确保每列的原子性，即每个字段的值不可再分。

- **第二范式（2NF）：** 确保表中的非主键列完全依赖于主键，消除部分依赖。

- **第三范式（3NF）：** 确保表中不存在传递依赖，消除非主键列对主键的传递依赖。

还有其他更高阶的范式，如BCNF（Boyce-Codd范式）和4NF等，它们提供更严格的规范要求，但在实际设计中，通常根据具体业务需求权衡使用不同的范式。

> 数据库的范式设计越高阶，冗余度就越低，同时高阶的范式一定符合低阶范式的要求。一般来说数据表的设计满足 `3NF` 即可。

## 第一范式：原子性

`1NF`（第一范式）确保数据库表中的每个字段都是原子性的，即每个字段不能再进一步分解为更小的数据项。这确保了数据的简单性和一致性，数据表的每一列都是不可分割的基本数据项，同一列中不能有多个值，也不能存在重复的属性。

> 备注：在任何一个关系数据库中，第一范式（1NF）是对关系模式的基本要求，不满足第一范式（1NF）的数据库就不是关系数据库。

**小结：数据表的每一列都是不可分割的基本数据项**。

## 第二范式：唯一性

`2NF`（第二范式）是建立在第一范式（`1NF`）的基础上。`1NF`要求每个字段具有原子性，而`2NF`进一步要求表中的每个记录都必须能够通过唯一标识来区分。为实现这一点，需要引入主键列，确保表中每条记录都是唯一的。

主键列的值不能重复，而其他非主键列的值必须完全依赖于整个主键，而不是仅依赖于主键的一部分，即消除数据表中的部分依赖关系，确保数据结构的规范性和一致性。

**小结：数据表中的每条记录必须是唯一的**。

## 第三范式：关联性

第三范式（3NF）要求数据库设计中的关系模式，每列与主键有直接关系，且消除了非主属性对于候选键的传递依赖。通过确保数据表的非主属性直接依赖于主键，而非通过其他非主键列间接关联。

**小结：每列都与主键有直接关系，不存在传递依赖**。